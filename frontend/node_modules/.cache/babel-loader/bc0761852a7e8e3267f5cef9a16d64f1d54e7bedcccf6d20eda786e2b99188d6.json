{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rashi\\\\smart-traffic-management\\\\frontend\\\\src\\\\components\\\\MapView.js\",\n  _s = $RefreshSig$();\n// src/components/MapView.js\n\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Set the default icon for the markers\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// Define bounding boxes for various states in India\nconst stateBoundaries = {\n  \"Andhra Pradesh\": {\n    latMin: 13.0,\n    latMax: 19.0,\n    lngMin: 80.0,\n    lngMax: 84.0\n  },\n  \"Maharashtra\": {\n    latMin: 15.0,\n    latMax: 24.0,\n    lngMin: 72.0,\n    lngMax: 80.0\n  },\n  \"Uttar Pradesh\": {\n    latMin: 26.0,\n    latMax: 31.0,\n    lngMin: 78.0,\n    lngMax: 84.0\n  },\n  \"West Bengal\": {\n    latMin: 21.0,\n    latMax: 27.0,\n    lngMin: 85.0,\n    lngMax: 89.0\n  },\n  \"Tamil Nadu\": {\n    latMin: 8.0,\n    latMax: 14.0,\n    lngMin: 77.0,\n    lngMax: 81.0\n  }\n  // Add more states as needed\n};\nconst getRandomCoordinates = state => {\n  const {\n    latMin,\n    latMax,\n    lngMin,\n    lngMax\n  } = stateBoundaries[state];\n  const latitude = Math.random() * (latMax - latMin) + latMin;\n  const longitude = Math.random() * (lngMax - lngMin) + lngMin;\n  return {\n    latitude,\n    longitude\n  };\n};\nconst MapView = () => {\n  _s();\n  const [markers, setMarkers] = useState([]);\n  const [route, setRoute] = useState([]);\n  const [randomPoints, setRandomPoints] = useState([]);\n  const handleMapClick = event => {\n    const {\n      lat,\n      lng\n    } = event.latlng;\n    if (markers.length < 2) {\n      setMarkers(prev => [...prev, {\n        latitude: lat,\n        longitude: lng\n      }]);\n    }\n  };\n  useEffect(() => {\n    // Generate random points from different states\n    const states = Object.keys(stateBoundaries);\n    const points = Array.from({\n      length: 100\n    }, () => {\n      const randomState = states[Math.floor(Math.random() * states.length)];\n      return getRandomCoordinates(randomState);\n    });\n    setRandomPoints(points);\n  }, []);\n  useEffect(() => {\n    if (markers.length === 2) {\n      const routeCoordinates = [[markers[0].latitude, markers[0].longitude], [markers[1].latitude, markers[1].longitude]];\n      setRoute(routeCoordinates);\n    }\n  }, [markers]);\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: [20.5937, 78.9629] // Center of India\n    ,\n    zoom: 5,\n    style: {\n      height: \"500px\",\n      width: \"100%\"\n    },\n    onClick: handleMapClick,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"http://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), randomPoints.map((point, index) => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [point.latitude, point.longitude],\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: [\"Random Point \", index + 1, \": \", point.latitude.toFixed(4), \", \", point.longitude.toFixed(4)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this)), markers.map((marker, index) => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [marker.latitude, marker.longitude],\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: [\"Marker \", index + 1, \": \", marker.latitude.toFixed(4), \", \", marker.longitude.toFixed(4)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }, this)), route.length === 2 && /*#__PURE__*/_jsxDEV(Polyline, {\n      positions: route,\n      color: \"blue\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(MapView, \"+kRsCdAkigU3KAlSAUQAgHbyw3U=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","Polyline","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","stateBoundaries","latMin","latMax","lngMin","lngMax","getRandomCoordinates","state","latitude","Math","random","longitude","MapView","_s","markers","setMarkers","route","setRoute","randomPoints","setRandomPoints","handleMapClick","event","lat","lng","latlng","length","prev","states","Object","keys","points","Array","from","randomState","floor","routeCoordinates","center","zoom","style","height","width","onClick","children","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","map","point","index","position","toFixed","marker","positions","color","_c","$RefreshReg$"],"sources":["C:/Users/rashi/smart-traffic-management/frontend/src/components/MapView.js"],"sourcesContent":["// src/components/MapView.js\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\n// Set the default icon for the markers\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\n// Define bounding boxes for various states in India\r\nconst stateBoundaries = {\r\n    \"Andhra Pradesh\": { latMin: 13.0, latMax: 19.0, lngMin: 80.0, lngMax: 84.0 },\r\n    \"Maharashtra\": { latMin: 15.0, latMax: 24.0, lngMin: 72.0, lngMax: 80.0 },\r\n    \"Uttar Pradesh\": { latMin: 26.0, latMax: 31.0, lngMin: 78.0, lngMax: 84.0 },\r\n    \"West Bengal\": { latMin: 21.0, latMax: 27.0, lngMin: 85.0, lngMax: 89.0 },\r\n    \"Tamil Nadu\": { latMin: 8.0, latMax: 14.0, lngMin: 77.0, lngMax: 81.0 },\r\n    // Add more states as needed\r\n};\r\n\r\nconst getRandomCoordinates = (state) => {\r\n    const { latMin, latMax, lngMin, lngMax } = stateBoundaries[state];\r\n    const latitude = Math.random() * (latMax - latMin) + latMin;\r\n    const longitude = Math.random() * (lngMax - lngMin) + lngMin;\r\n    return { latitude, longitude };\r\n};\r\n\r\nconst MapView = () => {\r\n    const [markers, setMarkers] = useState([]);\r\n    const [route, setRoute] = useState([]);\r\n    const [randomPoints, setRandomPoints] = useState([]);\r\n\r\n    const handleMapClick = (event) => {\r\n        const { lat, lng } = event.latlng;\r\n        if (markers.length < 2) {\r\n            setMarkers((prev) => [...prev, { latitude: lat, longitude: lng }]);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Generate random points from different states\r\n        const states = Object.keys(stateBoundaries);\r\n        const points = Array.from({ length: 100 }, () => {\r\n            const randomState = states[Math.floor(Math.random() * states.length)];\r\n            return getRandomCoordinates(randomState);\r\n        });\r\n        setRandomPoints(points);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (markers.length === 2) {\r\n            const routeCoordinates = [\r\n                [markers[0].latitude, markers[0].longitude],\r\n                [markers[1].latitude, markers[1].longitude]\r\n            ];\r\n            setRoute(routeCoordinates);\r\n        }\r\n    }, [markers]);\r\n\r\n    return (\r\n        <MapContainer\r\n            center={[20.5937, 78.9629]} // Center of India\r\n            zoom={5}\r\n            style={{ height: \"500px\", width: \"100%\" }}\r\n            onClick={handleMapClick}\r\n        >\r\n            <TileLayer\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                attribution='&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n            />\r\n            {randomPoints.map((point, index) => (\r\n                <Marker key={index} position={[point.latitude, point.longitude]}>\r\n                    <Popup>\r\n                        Random Point {index + 1}: {point.latitude.toFixed(4)}, {point.longitude.toFixed(4)}\r\n                    </Popup>\r\n                </Marker>\r\n            ))}\r\n            {markers.map((marker, index) => (\r\n                <Marker key={index} position={[marker.latitude, marker.longitude]}>\r\n                    <Popup>\r\n                        Marker {index + 1}: {marker.latitude.toFixed(4)}, {marker.longitude.toFixed(4)}\r\n                    </Popup>\r\n                </Marker>\r\n            ))}\r\n            {route.length === 2 && (\r\n                <Polyline positions={route} color=\"blue\" />\r\n            )}\r\n        </MapContainer>\r\n    );\r\n};\r\n\r\nexport default MapView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}